<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
    />

    <!-- Theme Initialization Script (moved to top for instant execution) -->
    <script>
      (function () {
        try {
          var localTheme = localStorage.getItem("vite-ui-theme");
          var systemDark = window.matchMedia(
            "(prefers-color-scheme: dark)"
          ).matches;
          var html = document.documentElement;
          var targetColor = "#EBF4FF";
          var isDark = false;

          // Robust determination of dark mode
          if (localTheme === "dark") {
            isDark = true;
          } else if (localTheme === "light") {
            isDark = false;
          } else if (systemDark) {
            // 'system' or null, and system is dark
            isDark = true;
          }

          if (isDark) {
            html.classList.add("dark");
            html.style.backgroundColor = "#000000";
            targetColor = "#000000";
          } else {
            html.classList.remove("dark");
            html.style.backgroundColor = "#EBF4FF";
            targetColor = "#EBF4FF";
          }

          // CRITICAL: Force update theme-color meta for Safari PWA edges
          var metaThemeColor = document.querySelector(
            'meta[name="theme-color"]'
          );
          if (!metaThemeColor) {
            metaThemeColor = document.createElement("meta");
            metaThemeColor.name = "theme-color";
            document.head.appendChild(metaThemeColor);
          }
          metaThemeColor.content = targetColor;
          // Remove media attribute to prevent browser from reverting to system preference
          metaThemeColor.removeAttribute("media");

          // Clean up conflicting meta tags if any (robustness)
          var allMetas = document.querySelectorAll('meta[name="theme-color"]');
          for (var i = 0; i < allMetas.length; i++) {
            if (allMetas[i] !== metaThemeColor) {
              allMetas[i].remove();
            }
          }
        } catch (e) {}
      })();
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" type="image/svg+xml" href="/Logo.svg" />

    <title>Project Hub</title>
    <meta
      name="description"
      content="Expert Full Stack Developer specializing in scalable web and mobile applications using React, Next.js, and modern technologies. Building innovative digital solutions."
    />
    <meta name="author" content="Na-thakorn Pikromsuk" />
    <meta
      name="keywords"
      content="Project Hub, Full Stack Developer, Web Development, Mobile App Development, React, Next.js, Thailand Developer, Software Engineer"
    />

    <meta
      property="og:title"
      content="Project Hub | Full Stack Web & Mobile Development"
    />
    <meta
      property="og:description"
      content="Expert Full Stack Developer specializing in scalable web and mobile applications using React, Next.js, and modern technologies."
    />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/Logo.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@ProjectHub" />
    <meta
      name="twitter:title"
      content="Project Hub | Full Stack Web & Mobile Development"
    />
    <meta
      name="twitter:description"
      content="Expert Full Stack Developer specializing in scalable web and mobile applications using React, Next.js, and modern technologies."
    />
    <meta name="twitter:image" content="/Logo.png" />
    <link rel="apple-touch-icon" href="/iOS-Logo-P.png" />

    <!-- Theme Color for Status Bar (will be dynamically updated by JS) -->
    <link rel="apple-touch-icon" href="/iOS-Logo-P.png" />

    <!-- Theme Color matches Script Logic -->

    <!-- PWA Status Bar Style -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Project Hub" />

    <!-- iOS PWA Splash Screens (Generated PNG Images) -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1290-2796.png" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-2796-1290.png" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1179-2556.png" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-2556-1179.png" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1170-2532.png" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-2532-1170.png" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1284-2778.png" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-2778-1284.png" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1125-2436.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-2436-1125.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1242-2688.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-2688-1242.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-828-1792.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1792-828.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1242-2208.png" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-2208-1242.png" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-750-1334.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1334-750.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-640-1136.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1136-640.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-2048-2732.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-2732-2048.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1668-2388.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-2388-1668.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1620-2160.png" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-2160-1620.png" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1536-2048.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-2048-1536.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1668-2224.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-2224-1668.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <!-- iPhone 15 Pro, 16 (402x874) -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1206-2622.png" media="(device-width: 402px) and (device-height: 874px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-2622-1206.png" media="(device-width: 402px) and (device-height: 874px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
    <!-- iPhone 16 Pro Max (440x956) -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1320-2868.png" media="(device-width: 440px) and (device-height: 956px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-2868-1320.png" media="(device-width: 440px) and (device-height: 956px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
    <!-- iPhone 16 Pro (420x912) -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1260-2736.png" media="(device-width: 420px) and (device-height: 912px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-2736-1260.png" media="(device-width: 420px) and (device-height: 912px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">

    <!-- iOS PWA Launch Screen Background Color (Critical for avoiding black screen) -->
    <style>
      /* Immediate background color - loads before any external CSS */
      html {
        background-color: #ebf4ff;
      }
      /* User-selected dark mode via class */
      html.dark {
        background-color: #000000 !important;
      }
      /* User-selected light mode (override system dark) */
      html:not(.dark) {
        background-color: #ebf4ff;
      }
    </style>

    <!-- Web App Manifest -->
    <link rel="manifest" href="/manifest.webmanifest" />

    <!-- Structured Data for SEO & Logo -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@graph": [
          {
            "@type": "WebSite",
            "name": "Project Hub",
            "url": "https://codex-th.com",
            "description": "Expert Full Stack Developer specializing in scalable web and mobile applications",
            "publisher": {
              "@type": "Person",
              "name": "Na-thakorn Pikromsuk",
              "logo": {
                "@type": "ImageObject",
                "url": "https://codex-th.com/Logo.png"
              }
            }
          },
          {
            "@type": "Person",
            "name": "Na-thakorn Pikromsuk",
            "alternateName": ["Project Hub", "ณฐกร พิกรมสุข", "N'Not"],
            "url": "https://codex-th.com",
            "image": "https://codex-th.com/Logo.png",
            "jobTitle": "Full-Stack Developer",
            "alumniOf": "Khon Kaen University"
          }
        ]
      }
    </script>
  </head>

  <body>
    <div id="root">
      <style>
        /* Base container mapping LazyFallback's gradient */
        .initial-loader {
          position: fixed;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 1.5rem;
          background: linear-gradient(135deg, #f8fafc, #eff6ff, #e0e7ff);
          z-index: 9999;
          transition: opacity 0.3s ease-out;
        }

        /* Dark mode background */
        html.dark .initial-loader {
          background: #000000;
        }

        /* Glass Card */
        .loader-card {
          width: 100%;
          max-width: 42rem; /* max-w-2xl */
          background-color: rgba(255, 255, 255, 0.8);
          backdrop-filter: blur(4px);
          -webkit-backdrop-filter: blur(4px);
          border-radius: 1rem;
          box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
            0 10px 10px -5px rgba(0, 0, 0, 0.04);
          border: 1px solid rgba(255, 255, 255, 0.2);
          padding: 2rem;
        }

        html.dark .loader-card {
          background-color: rgba(15, 23, 42, 0.8); /* slate-900/80 */
          border-color: rgba(51, 65, 85, 0.2); /* slate-700/20 */
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        /* Skeleton Animation */
        .skeleton {
          background-color: rgb(226, 232, 240); /* muted/slate-200 */
          border-radius: 0.375rem;
          animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        html.dark .skeleton {
          background-color: rgb(30, 41, 59); /* muted/slate-800 */
        }

        @keyframes pulse {
          0%,
          100% {
            opacity: 1;
          }
          50% {
            opacity: 0.5;
          }
        }

        /* Spinner Animation */
        .spinner-ring {
          width: 2rem;
          height: 2rem;
          border-radius: 9999px;
          border-width: 2px;
          border-color: rgb(191, 219, 254); /* blue-200 */
          border-top-color: rgb(59, 130, 246); /* blue-500 */
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }

        /* Layout Helpers */
        .space-y-6 > * + * {
          margin-top: 1.5rem;
        }
        .space-y-3 > * + * {
          margin-top: 0.75rem;
        }
        .flex {
          display: flex;
        }
        .items-center {
          align-items: center;
        }
        .justify-center {
          justify-content: center;
        }
        .gap-4 {
          gap: 1rem;
        }
        .gap-1 {
          gap: 0.25rem;
        }
        .flex-1 {
          flex: 1 1 0%;
        }
        .grid {
          display: grid;
        }
        .grid-cols-1 {
          grid-template-columns: repeat(1, minmax(0, 1fr));
        }

        @media (min-width: 640px) {
          .sm\:grid-cols-2 {
            grid-template-columns: repeat(2, minmax(0, 1fr));
          }
        }

        /* Specific Skeletons */
        .sk-avatar {
          width: 3.5rem;
          height: 3.5rem;
          border-radius: 9999px;
        }
        .sk-title {
          height: 1.25rem;
          width: 75%;
        }
        .sk-subtitle {
          height: 1rem;
          width: 50%;
          margin-top: 0.5rem;
        }

        .sk-img {
          height: 8rem;
          width: 100%;
          border-radius: 0.75rem;
        }
        .sk-text {
          height: 1rem;
          width: 100%;
        }
        .sk-text-short {
          height: 1rem;
          width: 66%;
        }
        .sk-text-med {
          height: 1rem;
          width: 75%;
        }

        /* Loading Text */
        .loading-text {
          text-align: center;
          font-family: "Inter", sans-serif;
          font-size: 0.875rem;
          font-weight: 500;
          color: rgb(71, 85, 105); /* slate-600 */
          margin-top: 1.5rem;
          animation: pulse 2s infinite;
        }

        html.dark .loading-text {
          color: rgb(203, 213, 225); /* slate-300 */
        }
      </style>

      <div class="initial-loader">
        <div class="loader-card">
          <div class="space-y-6">
            <!-- Header -->
            <div class="flex items-center gap-4">
              <div class="skeleton sk-avatar"></div>
              <div class="flex-1">
                <div class="skeleton sk-title"></div>
                <div class="skeleton sk-subtitle"></div>
              </div>
            </div>

            <!-- Content Grid -->
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div class="space-y-3">
                <div class="skeleton sk-img"></div>
                <div class="skeleton sk-text"></div>
                <div class="skeleton sk-text-short"></div>
              </div>
              <div class="space-y-3">
                <div class="skeleton sk-img"></div>
                <div class="skeleton sk-text"></div>
                <div class="skeleton sk-text-med"></div>
              </div>
            </div>

            <!-- Spinner & Text -->
            <div>
              <div class="flex justify-center items-center gap-4">
                <div class="spinner-ring"></div>
              </div>
              <p class="loading-text">กำลังโหลด...</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
